{"version":3,"sources":["module.js"],"names":["NativeModules","NativeEventEmitter","RNLocalize","emitter","handlers","Set","constants","initialConstants","addListener","next","JSON","stringify","forEach","handler"],"mappings":"AAEA,OAASA,aAAT,CAAwBC,kBAAxB,KAAkD,cAAlD,C,GAGQC,CAAAA,U,CAAeF,a,CAAfE,U,CACR,GAAMC,CAAAA,OAAO,CAAG,GAAIF,CAAAA,kBAAJ,CAAuBC,UAAvB,CAAhB,CAEA,MAAO,IAAME,CAAAA,QAAuB,CAAG,GAAIC,CAAAA,GAAJ,EAAhC,CACP,MAAO,IAAIC,CAAAA,SAAgC,CAAGJ,UAAU,CAACK,gBAAlD,CAEPJ,OAAO,CAACK,WAAR,CAAoB,uBAApB,CAA6C,SAACC,IAAD,CAAiC,CAC5E,GAAIC,IAAI,CAACC,SAAL,CAAeF,IAAf,IAAyBC,IAAI,CAACC,SAAL,CAAeL,SAAf,CAA7B,CAAwD,CACtDA,SAAS,CAAGG,IAAZ,CACAL,QAAQ,CAACQ,OAAT,CAAiB,SAAAC,OAAO,QAAIA,CAAAA,OAAO,EAAX,EAAxB,EACD,CACF,CALD","sourcesContent":["// @flow\n\nimport { NativeModules, NativeEventEmitter } from \"react-native\";\nimport type { LocalizationConstants } from \"./types\";\n\nconst { RNLocalize } = NativeModules;\nconst emitter = new NativeEventEmitter(RNLocalize);\n\nexport const handlers: Set<Function> = new Set();\nexport let constants: LocalizationConstants = RNLocalize.initialConstants;\n\nemitter.addListener(\"localizationDidChange\", (next: LocalizationConstants) => {\n  if (JSON.stringify(next) !== JSON.stringify(constants)) {\n    constants = next;\n    handlers.forEach(handler => handler());\n  }\n});\n"]}