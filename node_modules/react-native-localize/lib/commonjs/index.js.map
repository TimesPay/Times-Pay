{"version":3,"sources":["index.js"],"names":["logUnsupportedEvent","type","console","error","getPartialTag","languageCode","scriptCode","getCalendar","constants","calendar","getCountry","country","getCurrencies","currencies","getLocales","locales","getNumberFormatSettings","numberFormatSettings","getTemperatureUnit","temperatureUnit","getTimeZone","timeZone","uses24HourClock","usesMetricSystem","usesAutoDateAndTime","usesAutoTimeZone","addEventListener","handler","handlers","has","add","removeEventListener","delete","findBestAvailableLanguage","languageTags","index","length","currentLocale","languageTag","isRTL","includes","partialTag","next"],"mappings":"ioBAEA,gCAmBA,QAASA,CAAAA,mBAAT,CAA6BC,IAA7B,CAA2C,CACzCC,OAAO,CAACC,KAAR,KAAmBF,IAAnB,iDACD,CACD,QAASG,CAAAA,aAAT,MAA6D,IAApCC,CAAAA,YAAoC,MAApCA,YAAoC,CAAtBC,UAAsB,MAAtBA,UAAsB,CAC3D,MAAOD,CAAAA,YAAY,EAAIC,UAAU,CAAG,IAAMA,UAAT,CAAsB,EAApC,CAAnB,CACD,CAEM,QAASC,CAAAA,WAAT,EAAiC,CACtC,MAAOC,mBAAUC,QAAjB,CACD,CACM,QAASC,CAAAA,UAAT,EAA8B,CACnC,MAAOF,mBAAUG,OAAjB,CACD,CACM,QAASC,CAAAA,aAAT,EAAmC,CACxC,MAAOJ,mBAAUK,UAAjB,CACD,CACM,QAASC,CAAAA,UAAT,EAAgC,CACrC,MAAON,mBAAUO,OAAjB,CACD,CACM,QAASC,CAAAA,uBAAT,EAAyD,CAC9D,MAAOR,mBAAUS,oBAAjB,CACD,CACM,QAASC,CAAAA,kBAAT,EAA+C,CACpD,MAAOV,mBAAUW,eAAjB,CACD,CACM,QAASC,CAAAA,WAAT,EAA+B,CACpC,MAAOZ,mBAAUa,QAAjB,CACD,CACM,QAASC,CAAAA,eAAT,EAAoC,CACzC,MAAOd,mBAAUc,eAAjB,CACD,CACM,QAASC,CAAAA,gBAAT,EAAqC,CAC1C,MAAOf,mBAAUe,gBAAjB,CACD,CACM,QAASC,CAAAA,mBAAT,EAAgD,CACrD,MAAOhB,mBAAUgB,mBAAjB,CACD,CACM,QAASC,CAAAA,gBAAT,EAA6C,CAClD,MAAOjB,mBAAUiB,gBAAjB,CACD,CAEM,QAASC,CAAAA,gBAAT,CACLzB,IADK,CAEL0B,OAFK,CAGC,CACN,GAAI1B,IAAI,GAAK,QAAb,CAAuB,CACrBD,mBAAmB,CAACC,IAAD,CAAnB,CACD,CAFD,IAEO,IAAI,CAAC2B,iBAASC,GAAT,CAAaF,OAAb,CAAL,CAA4B,CACjCC,iBAASE,GAAT,CAAaH,OAAb,EACD,CACF,CAEM,QAASI,CAAAA,mBAAT,CACL9B,IADK,CAEL0B,OAFK,CAGC,CACN,GAAI1B,IAAI,GAAK,QAAb,CAAuB,CACrBD,mBAAmB,CAACC,IAAD,CAAnB,CACD,CAFD,IAEO,IAAI2B,iBAASC,GAAT,CAAaF,OAAb,CAAJ,CAA2B,CAChCC,iBAASI,MAAT,CAAgBL,OAAhB,EACD,CACF,CAEM,QAASM,CAAAA,yBAAT,CACLC,YADK,CAKG,CACR,GAAMnB,CAAAA,OAAO,CAAGD,UAAU,EAA1B,CAEA,IAAK,GAAIqB,CAAAA,KAAK,CAAG,CAAjB,CAAoBA,KAAK,CAAGpB,OAAO,CAACqB,MAApC,CAA4CD,KAAK,EAAjD,CAAqD,CACnD,GAAME,CAAAA,aAAa,CAAGtB,OAAO,CAACoB,KAAD,CAA7B,CADmD,GAE3CG,CAAAA,WAF2C,CAEND,aAFM,CAE3CC,WAF2C,CAE9BjC,YAF8B,CAENgC,aAFM,CAE9BhC,YAF8B,CAEhBkC,KAFgB,CAENF,aAFM,CAEhBE,KAFgB,CAInD,GAAIL,YAAY,CAACM,QAAb,CAAsBF,WAAtB,CAAJ,CAAwC,CACtC,MAAO,CAAEA,WAAW,CAAXA,WAAF,CAAeC,KAAK,CAALA,KAAf,CAAP,CACD,CAED,GAAME,CAAAA,UAAU,CAAGrC,aAAa,CAACiC,aAAD,CAAhC,CACA,GAAMK,CAAAA,IAAI,CAAG3B,OAAO,CAACoB,KAAK,CAAG,CAAT,CAApB,CAEA,GACE,CAAC,CAACO,IAAD,EAASD,UAAU,GAAKrC,aAAa,CAACsC,IAAD,CAAtC,GACAR,YAAY,CAACM,QAAb,CAAsBC,UAAtB,CAFF,CAGE,CACA,MAAO,CAAEH,WAAW,CAAEG,UAAf,CAA2BF,KAAK,CAALA,KAA3B,CAAP,CACD,CAED,GACE,CAAC,CAACG,IAAD,EAASrC,YAAY,GAAKqC,IAAI,CAACrC,YAAhC,GACA6B,YAAY,CAACM,QAAb,CAAsBnC,YAAtB,CAFF,CAGE,CACA,MAAO,CAAEiC,WAAW,CAAEjC,YAAf,CAA6BkC,KAAK,CAALA,KAA7B,CAAP,CACD,CACF,CACF","sourcesContent":["// @flow\n\nimport { constants, handlers } from \"./module\";\n\nimport type {\n  Calendar,\n  Locale,\n  LocalizationEvent,\n  NumberFormatSettings,\n  Option,\n  TemperatureUnit,\n} from \"./types\";\n\nexport type {\n  Calendar,\n  Locale,\n  LocalizationEvent,\n  NumberFormatSettings,\n  TemperatureUnit,\n} from \"./types\";\n\nfunction logUnsupportedEvent(type: string) {\n  console.error(`\\`${type}\\` is not a valid react-native-localize event`);\n}\nfunction getPartialTag({ languageCode, scriptCode }: Locale) {\n  return languageCode + (scriptCode ? \"-\" + scriptCode : \"\");\n}\n\nexport function getCalendar(): Calendar {\n  return constants.calendar;\n}\nexport function getCountry(): string {\n  return constants.country;\n}\nexport function getCurrencies(): string[] {\n  return constants.currencies;\n}\nexport function getLocales(): Locale[] {\n  return constants.locales;\n}\nexport function getNumberFormatSettings(): NumberFormatSettings {\n  return constants.numberFormatSettings;\n}\nexport function getTemperatureUnit(): TemperatureUnit {\n  return constants.temperatureUnit;\n}\nexport function getTimeZone(): string {\n  return constants.timeZone;\n}\nexport function uses24HourClock(): boolean {\n  return constants.uses24HourClock;\n}\nexport function usesMetricSystem(): boolean {\n  return constants.usesMetricSystem;\n}\nexport function usesAutoDateAndTime(): Option<boolean> {\n  return constants.usesAutoDateAndTime;\n}\nexport function usesAutoTimeZone(): Option<boolean> {\n  return constants.usesAutoTimeZone;\n}\n\nexport function addEventListener(\n  type: LocalizationEvent,\n  handler: Function,\n): void {\n  if (type !== \"change\") {\n    logUnsupportedEvent(type);\n  } else if (!handlers.has(handler)) {\n    handlers.add(handler);\n  }\n}\n\nexport function removeEventListener(\n  type: LocalizationEvent,\n  handler: Function,\n): void {\n  if (type !== \"change\") {\n    logUnsupportedEvent(type);\n  } else if (handlers.has(handler)) {\n    handlers.delete(handler);\n  }\n}\n\nexport function findBestAvailableLanguage(\n  languageTags: string[],\n): {|\n  languageTag: string,\n  isRTL: boolean,\n|} | void {\n  const locales = getLocales();\n\n  for (let index = 0; index < locales.length; index++) {\n    const currentLocale = locales[index];\n    const { languageTag, languageCode, isRTL } = currentLocale;\n\n    if (languageTags.includes(languageTag)) {\n      return { languageTag, isRTL };\n    }\n\n    const partialTag = getPartialTag(currentLocale);\n    const next = locales[index + 1];\n\n    if (\n      (!next || partialTag !== getPartialTag(next)) &&\n      languageTags.includes(partialTag)\n    ) {\n      return { languageTag: partialTag, isRTL };\n    }\n\n    if (\n      (!next || languageCode !== next.languageCode) &&\n      languageTags.includes(languageCode)\n    ) {\n      return { languageTag: languageCode, isRTL };\n    }\n  }\n}\n"]}