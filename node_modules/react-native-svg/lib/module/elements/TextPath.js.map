{"version":3,"sources":["TextPath.tsx"],"names":["React","requireNativeComponent","extractTransform","withoutXY","extractText","idPattern","pickNotNil","Shape","TSpan","TextPath","setNativeProps","props","matrix","root","children","xlinkHref","href","startOffset","method","spacing","side","alignmentBaseline","midLine","prop","matched","match","ref","refMethod","console","warn","displayName","RNSVGTextPath"],"mappings":"yjBAAA,MAAOA,CAAAA,KAAP,KAAiC,OAAjC,CACA,OAASC,sBAAT,KAAuC,cAAvC,CACA,MAAOC,CAAAA,gBAAP,KAA6B,iCAA7B,CACA,OAASC,SAAT,KAA0B,6BAA1B,CAEA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,OAASC,SAAT,CAAoBC,UAApB,KAAsC,aAAtC,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,C,GAEqBC,CAAAA,Q,kXAanBC,c,CAAiB,SACfC,KADe,CAKZ,CACH,GAAMC,CAAAA,MAAM,CAAG,CAACD,KAAK,CAACC,MAAP,EAAiBV,gBAAgB,CAACS,KAAD,CAAhD,CACA,GAAIC,MAAJ,CAAY,CACVD,KAAK,CAACC,MAAN,CAAeA,MAAf,CACD,CACD,SAAcD,KAAd,CAAqBL,UAAU,CAACF,WAAW,CAACO,KAAD,CAAQ,IAAR,CAAZ,CAA/B,EACA,MAAKE,IAAL,EAAa,MAAKA,IAAL,CAAUH,cAAV,CAAyBC,KAAzB,CAAb,CACD,C,2EAEQ,iBAYH,KAAKA,KAZF,CAELG,QAFK,aAELA,QAFK,CAGLC,SAHK,aAGLA,SAHK,8BAILC,IAJK,CAILA,IAJK,2BAIED,SAJF,oDAKLE,WALK,CAKLA,WALK,gCAKS,CALT,uBAMLC,MANK,aAMLA,MANK,CAOLC,OAPK,aAOLA,OAPK,CAQLC,IARK,aAQLA,IARK,CASLC,iBATK,aASLA,iBATK,CAULC,OAVK,aAULA,OAVK,CAWFC,IAXE,6IAaP,GAAMC,CAAAA,OAAO,CAAGR,IAAI,EAAIA,IAAI,CAACS,KAAL,CAAWpB,SAAX,CAAxB,CACA,GAAMoB,CAAAA,KAAK,CAAGD,OAAO,EAAIA,OAAO,CAAC,CAAD,CAAhC,CACA,GAAIC,KAAJ,CAAW,CACT,GAAMd,CAAAA,KAAK,CAAGR,SAAS,CAAC,IAAD,CAAOoB,IAAP,CAAvB,CACA,SACEZ,KADF,CAEEP,WAAW,CACT,CACEU,QAAQ,CAARA,QADF,CADS,CAIT,IAJS,CAFb,CAQE,CACEE,IAAI,CAAES,KADR,CAEER,WAAW,CAAXA,WAFF,CAGEC,MAAM,CAANA,MAHF,CAIEC,OAAO,CAAPA,OAJF,CAKEC,IAAI,CAAJA,IALF,CAMEC,iBAAiB,CAAjBA,iBANF,CAOEC,OAAO,CAAPA,OAPF,CARF,EAkBAX,KAAK,CAACe,GAAN,CAAY,KAAKC,SAAjB,CACA,MAAO,qBAAC,aAAD,aAAmBhB,KAAnB,mDAAP,CACD,CAEDiB,OAAO,CAACC,IAAR,CACE,qFACEb,IADF,CAEE,GAHJ,EAKA,MACE,qBAAC,KAAD,EAAO,GAAG,CAAE,KAAKW,SAAjB,iDACGb,QADH,CADF,CAKD,C,sBA5EmCP,K,EAAjBE,Q,CAWZqB,W,CAAc,U,QAXFrB,Q,aA+ErB,MAAO,IAAMsB,CAAAA,aAAa,CAAG9B,sBAAsB,CAAC,eAAD,CAA5C","sourcesContent":["import React, { Component } from 'react';\nimport { requireNativeComponent } from 'react-native';\nimport extractTransform from '../lib/extract/extractTransform';\nimport { withoutXY } from '../lib/extract/extractProps';\nimport { NumberProp, TransformProps } from '../lib/extract/types';\nimport extractText from '../lib/extract/extractText';\nimport { idPattern, pickNotNil } from '../lib/util';\nimport Shape from './Shape';\nimport TSpan from './TSpan';\n\nexport default class TextPath extends Shape<{\n  children?: NumberProp | [NumberProp | React.ComponentType];\n  alignmentBaseline?: string;\n  startOffset?: NumberProp;\n  xlinkHref?: string;\n  midLine?: string;\n  spacing?: string;\n  method?: string;\n  href?: string;\n  side?: string;\n}> {\n  static displayName = 'TextPath';\n\n  setNativeProps = (\n    props: Object & {\n      matrix?: number[];\n      style?: [] | {};\n    } & TransformProps,\n  ) => {\n    const matrix = !props.matrix && extractTransform(props);\n    if (matrix) {\n      props.matrix = matrix;\n    }\n    Object.assign(props, pickNotNil(extractText(props, true)));\n    this.root && this.root.setNativeProps(props);\n  };\n\n  render() {\n    const {\n      children,\n      xlinkHref,\n      href = xlinkHref,\n      startOffset = 0,\n      method,\n      spacing,\n      side,\n      alignmentBaseline,\n      midLine,\n      ...prop\n    } = this.props;\n    const matched = href && href.match(idPattern);\n    const match = matched && matched[1];\n    if (match) {\n      const props = withoutXY(this, prop);\n      Object.assign(\n        props,\n        extractText(\n          {\n            children,\n          },\n          true,\n        ),\n        {\n          href: match,\n          startOffset,\n          method,\n          spacing,\n          side,\n          alignmentBaseline,\n          midLine,\n        },\n      );\n      props.ref = this.refMethod as (instance: Component | null) => void;\n      return <RNSVGTextPath {...props} />;\n    }\n\n    console.warn(\n      'Invalid `href` prop for `TextPath` element, expected a href like \"#id\", but got: \"' +\n        href +\n        '\"',\n    );\n    return (\n      <TSpan ref={this.refMethod as (instance: Component | null) => void}>\n        {children}\n      </TSpan>\n    );\n  }\n}\n\nexport const RNSVGTextPath = requireNativeComponent('RNSVGTextPath');\n"]}