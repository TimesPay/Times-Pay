{"version":3,"sources":["BorderlessButton.tsx"],"names":["React","Animated","Platform","BaseButton","AnimatedBaseButton","createAnimatedComponent","USE_NATIVE_DRIVER","OS","BorderlessButton","opacity","Value","handleActiveStateChange","active","spring","stiffness","damping","mass","overshootClamping","restDisplacementThreshold","restSpeedThreshold","toValue","props","activeOpacity","useNativeDriver","start","onActiveStateChange","children","style","enabled","rest","Component","defaultProps","borderless"],"mappings":"ukBAAA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CACA,OAASC,QAAT,CAAmBC,QAAnB,KAAmC,cAAnC,CACA,OAASC,UAAT,KAA2B,8BAA3B,CAEA,GAAMC,CAAAA,kBAAkB,CAAGH,QAAQ,CAACI,uBAAT,CAAiCF,UAAjC,CAA3B,CAEA,GAAMG,CAAAA,iBAAiB,CAAGJ,QAAQ,CAACK,EAAT,GAAgB,SAAhB,EAA6BL,QAAQ,CAACK,EAAT,GAAgB,KAAvE,C,GAMqBC,CAAAA,gB,saAMXC,O,CAAU,GAAIR,CAAAA,QAAQ,CAACS,KAAb,CAAmB,CAAnB,C,OAEVC,uB,CAA0B,SAACC,MAAD,CAAqB,CACrD,GAAIV,QAAQ,CAACK,EAAT,GAAgB,SAApB,CAA+B,CAC7BN,QAAQ,CAACY,MAAT,CAAgB,MAAKJ,OAArB,CAA8B,CAC5BK,SAAS,CAAE,IADiB,CAE5BC,OAAO,CAAE,GAFmB,CAG5BC,IAAI,CAAE,CAHsB,CAI5BC,iBAAiB,CAAE,IAJS,CAK5BC,yBAAyB,CAAE,IALC,CAM5BC,kBAAkB,CAAE,IANQ,CAO5BC,OAAO,CAAER,MAAM,CAAG,MAAKS,KAAL,CAAWC,aAAd,CAA8B,CAPjB,CAQ5BC,eAAe,CAAEjB,iBARW,CAA9B,EASGkB,KATH,GAUD,CAED,MAAKH,KAAL,CAAWI,mBAAX,EAAkC,MAAKJ,KAAL,CAAWI,mBAAX,CAA+Bb,MAA/B,CAAlC,CACD,C,mFAEQ,iBACuC,KAAKS,KAD5C,CACCK,QADD,aACCA,QADD,CACWC,KADX,aACWA,KADX,CACkBC,OADlB,aACkBA,OADlB,CAC8BC,IAD9B,sEAGP,MACE,qBAAC,kBAAD,aACMA,IADN,EAEE,mBAAmB,CAAE,KAAKlB,uBAF5B,CAGE,KAAK,CAAE,CACLgB,KADK,CAELzB,QAAQ,CAACK,EAAT,GAAgB,KAAhB,EAAyBqB,OAAzB,EAAoC,CAAEnB,OAAO,CAAE,KAAKA,OAAhB,CAF/B,CAHT,kDAQGiB,QARH,CADF,CAYD,C,8BAxC2C1B,KAAK,CAAC8B,S,EAA/BtB,gB,CACZuB,Y,CAAe,CACpBT,aAAa,CAAE,GADK,CAEpBU,UAAU,CAAE,IAFQ,C,QADHxB,gB","sourcesContent":["import * as React from 'react';\nimport { Animated, Platform } from 'react-native';\nimport { BaseButton } from 'react-native-gesture-handler';\n\nconst AnimatedBaseButton = Animated.createAnimatedComponent(BaseButton);\n\nconst USE_NATIVE_DRIVER = Platform.OS === 'android' || Platform.OS === 'ios';\n\ntype Props = React.ComponentProps<typeof BaseButton> & {\n  activeOpacity: number;\n};\n\nexport default class BorderlessButton extends React.Component<Props> {\n  static defaultProps = {\n    activeOpacity: 0.3,\n    borderless: true,\n  };\n\n  private opacity = new Animated.Value(1);\n\n  private handleActiveStateChange = (active: boolean) => {\n    if (Platform.OS !== 'android') {\n      Animated.spring(this.opacity, {\n        stiffness: 1000,\n        damping: 500,\n        mass: 3,\n        overshootClamping: true,\n        restDisplacementThreshold: 0.01,\n        restSpeedThreshold: 0.01,\n        toValue: active ? this.props.activeOpacity : 1,\n        useNativeDriver: USE_NATIVE_DRIVER,\n      }).start();\n    }\n\n    this.props.onActiveStateChange && this.props.onActiveStateChange(active);\n  };\n\n  render() {\n    const { children, style, enabled, ...rest } = this.props;\n\n    return (\n      <AnimatedBaseButton\n        {...rest}\n        onActiveStateChange={this.handleActiveStateChange}\n        style={[\n          style,\n          Platform.OS === 'ios' && enabled && { opacity: this.opacity },\n        ]}\n      >\n        {children}\n      </AnimatedBaseButton>\n    );\n  }\n}\n"]}