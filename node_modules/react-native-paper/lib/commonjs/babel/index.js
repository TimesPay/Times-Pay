var SKIP=Symbol('SKIP');module.exports=function rewire(babel,options){var t=babel.types;var _require=require(options.mappings||'../../mappings.json'),name=_require.name,index=_require.index,mappings=_require.mappings;return{visitor:{ImportDeclaration:function ImportDeclaration(path){if(path.node.source.value!==name||path.node[SKIP]){return;}path.node.source.value=name+"/"+index;path.replaceWithMultiple(path.node.specifiers.reduce(function(declarations,specifier){var mapping=mappings[specifier.imported.name];if(mapping){var alias=name+"/"+mapping.path;var identifier=t.identifier(specifier.local.name);var s;switch(mapping.name){case'default':s=t.importDefaultSpecifier(identifier);break;case'*':s=t.importNamespaceSpecifier(identifier);break;default:s=t.importSpecifier(identifier,t.identifier(mapping.name));}declarations.push(t.importDeclaration([s],t.stringLiteral(alias)));}else{var previous=declarations.find(function(d){return d.source.value===path.node.source.value;});if(previous){previous.specifiers.push(specifier);}else{var node=t.importDeclaration([specifier],path.node.source);node[SKIP]=true;declarations.push(node);}}return declarations;},[]));path.requeue();}}};};
//# sourceMappingURL=index.js.map